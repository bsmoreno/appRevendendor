import{t as C,j as e,y as M,z as P,a as h,A as k,T as o,D as g,R as _,p as F,E as D,r as c,Z as v,$ as w,a0 as A,h as z,H as I,B as u,S,a1 as H,a2 as E,c as W}from"./index-BmfGJE-Y.js";import{C as $,w as B,P as N,D as O,F as V,H as G,d as L,a as y,b as J,S as K,c as a,R as U}from"./dx.material.blue.dark.compact-BxJV-vKz.js";import{r as x}from"./reactTextMask-PSz5W310.js";import{S as m}from"./Stack-BwF0Qp1t.js";import{w as j}from"./WhatsappLogo-C-GNfsRi.js";const X=()=>({customDataSource:new $({key:"id_Cliente",load:async s=>{const i=await C.post("Clientes/v1/Tabela",s);if(i.status===200)return i.data},byKey:async s=>(await C.get("Clientes/v1/Buscar",{params:{id_Cliente:s}})).data})});function Z({params:n}){return e.jsxs(M,{children:[e.jsx(P,{children:e.jsx(h,{"aria-controls":"simple-menu","aria-haspopup":"true",children:e.jsx(B,{})})}),e.jsx(k,{disableScrollLock:!0,PaperProps:{sx:{minWidth:"200px",p:1}},anchorOrigin:{horizontal:"left",vertical:"top"},transformOrigin:{horizontal:"right",vertical:"top"},children:e.jsxs(m,{direction:"column",alignItems:"flex-start",children:[e.jsxs(m,{width:"100%",children:[e.jsx(o,{children:"Ações"}),e.jsx(g,{})]}),e.jsx(m,{width:"100%",children:e.jsx(h,{component:_,href:F.dashboard.cadastros.clientes.editar(n.id_Cliente),startIcon:e.jsx(N,{}),sx:{justifyContent:"flex-start",textAlign:"left","& .MuiButton-startIcon":{marginRight:1},width:"100%"},children:" Editar"},D())})]})})]})}const q=n=>n.length===11?[/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"-",/\d/,/\d/]:n.length===14?[/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/]:[],f=n=>n.replace(/\D/g,"").length>10?["+","5","5"," ","(",/\d/,/\d/,")"," ",/\d/,".",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]:["+","5","5"," ","(",/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/];function Q(){const{customDataSource:n}=X(),[s,i]=c.useState(!0),[p,ee]=c.useState("full"),T=[5,10,"all"];c.useCallback(()=>p==="compact",[p]),c.useCallback(t=>{i(t)},[]);const b=c.useRef(null),R={style:"currency",currency:"BRL",precision:2};return e.jsxs(O,{dataSource:n,allowColumnReordering:!0,columnAutoWidth:!0,columnResizingMode:"nextColumn",height:"100%",remoteOperations:{paging:!0,filtering:!0,sorting:!0,grouping:!1},ref:b,children:[e.jsx(V,{visible:!0}),e.jsx(G,{visible:!0}),e.jsx(L,{enabled:!0}),e.jsx(y,{defaultPageSize:5,defaultPageIndex:0}),e.jsx(y,{defaultPageSize:5}),e.jsx(J,{visible:!0,allowedPageSizes:T,displayMode:p,showPageSizeSelector:s}),e.jsx(K,{columnRenderingMode:"virtual"}),e.jsx(a,{dataField:"nr_Cliente",caption:"N° Usuário",alignment:"center",allowFiltering:!1,width:50}),e.jsx(a,{dataField:"cd_CpfCnpj",caption:"CPF/CNPJ",cellRender:({data:t,row:l})=>{var r=x.conformToMask(t.cd_CpfCnpj,q(t.cd_CpfCnpj),{guide:!1});return e.jsx(o,{variant:"overline",children:r.conformedValue})}}),e.jsx(a,{dataField:"ds_Nome",caption:"Nome"}),e.jsx(a,{dataField:"ds_Sobrenome",caption:"Sobrenome"}),e.jsx(a,{dataField:"ds_Apelido",caption:"Apelido"}),e.jsx(a,{dataField:"ds_Email",caption:"E-mail"}),e.jsx(a,{dataField:"nr_Telefone",caption:"Telefone",cellRender:({data:t,row:l})=>{let r=t.nr_Telefone;var d=x.conformToMask(r,f(r),{guide:!1});return e.jsxs(o,{variant:"overline",children:[d.conformedValue," ",t.tp_TelefoneWhatsApp===!0?e.jsx(j,{color:"green"}):e.jsx(e.Fragment,{})]})}}),e.jsx(a,{dataField:"nr_Celular",caption:"Celular",cellRender:({data:t,row:l})=>{let r=t.nr_Celular;var d=x.conformToMask(r,f(r),{guide:!1});return e.jsxs(o,{variant:"overline",children:[d.conformedValue," ",t.tp_CelularWhatsApp===!0?e.jsx(j,{color:"green"}):e.jsx(e.Fragment,{})]})}}),e.jsx(a,{dataField:"nr_Contato",caption:"Contato",cellRender:({data:t,row:l})=>{let r=t.nr_Contato;var d=x.conformToMask(r,f(r),{guide:!1});return e.jsxs(o,{variant:"overline",children:[d.conformedValue," ",t.tp_ContatoWhatsApp===!0?e.jsx(j,{color:"green"}):e.jsx(e.Fragment,{})]})}}),e.jsx(a,{dataField:"vl_Credito",caption:"R$ Crédito",format:R}),e.jsx(a,{dataField:"tp_Status",caption:"Status",cellRender:t=>{let l=t.value?v[200]:w[200],r=t.value?v[50]:w[50];return e.jsx(A,{sx:{backgroundColor:`${l}90`,color:r},label:t.value?"Ativo":"Inativo",size:"small",variant:"soft"})}}),e.jsx(a,{dataField:"dt_Inclusao",caption:"Data Inclusão",dataType:"datetime",format:"dd/MM/yyyy HH:mm"}),e.jsx(a,{dataField:"dt_Atualizacao",caption:"Data Atualização",dataType:"datetime",format:"dd/MM/yyyy HH:mm"}),e.jsx(a,{caption:"Ações",alignment:"center",fixed:!0,width:"5%",fixedPosition:"right",cellRender:t=>e.jsx(Z,{params:t.data})}),e.jsx(U,{})]})}const Y={title:`Clientes | Cadastro | Dashboard | ${W.site.name}`};function oe(){return e.jsxs(z.Fragment,{children:[e.jsx(I,{children:e.jsx("title",{children:Y.title})}),e.jsx(u,{sx:{maxWidth:"var(--Content-maxWidth)",m:"var(--Content-margin)",p:"var(--Content-padding)",width:"var(--Content-width)"},children:e.jsxs(S,{spacing:4,children:[e.jsxs(S,{direction:{xs:"column",sm:"row"},spacing:4,sx:{alignItems:"flex-start"},children:[e.jsx(u,{sx:{flex:"1 1 auto"},children:e.jsx(o,{variant:"h4",children:"Gestão de Clientes"})}),e.jsx(u,{children:e.jsx(h,{component:_,href:F.dashboard.cadastros.clientes.criar,startIcon:e.jsx(H,{}),variant:"outlined",children:"Novo"})})]}),e.jsxs(E,{children:[e.jsx(g,{}),e.jsx(u,{sx:{overflowX:"auto"},children:e.jsx(Q,{})}),e.jsx(g,{})]})]})})]})}export{oe as Page};
