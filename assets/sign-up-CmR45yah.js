import{x as F,r as c,an as k,j as s,S as i,B as j,R as u,p as g,c_ as L,T as p,ax as f,a as b,D as B,ao as o,as as d,at as m,au as h,av as l,cV as v,H as I,c as P}from"./index-BmfGJE-Y.js";import{z as n,t as A}from"./index-jjTw8nlg.js";import{F as D}from"./FormControlLabel-HCwVRRhk.js";import{C as E}from"./Checkbox-CDtHc1wJ.js";import{G,S as q}from"./split-layout-BsmddvzM.js";import"./SwitchBase-LEr907X7.js";const H=[{id:"google",name:"Google",logo:"/assets/logo-google.svg"},{id:"discord",name:"Discord",logo:"/assets/logo-discord.svg"}],R=n.object({firstName:n.string().min(1,{message:"First name is required"}),lastName:n.string().min(1,{message:"Last name is required"}),email:n.string().min(1,{message:"Email is required"}).email(),password:n.string().min(6,{message:"Password should be at least 6 characters"}),terms:n.boolean().refine(a=>a,"You must accept the terms and conditions")}),T={firstName:"",lastName:"",email:"",password:"",terms:!1};function z(){const{checkSession:a}=F(),[x,w]=c.useState(!1),{control:t,handleSubmit:y,setError:S,formState:{errors:e}}=k({defaultValues:T,resolver:A(R)}),N=c.useCallback(async r=>{},[]),C=c.useCallback(async r=>{w(!0),await(a==null?void 0:a())},[a,S]);return s.jsxs(i,{spacing:4,children:[s.jsx("div",{children:s.jsx(j,{component:u,href:g.home,sx:{display:"inline-block",fontSize:0},children:s.jsx(L,{colorDark:"light",colorLight:"dark",height:32,width:122})})}),s.jsxs(i,{spacing:1,children:[s.jsx(p,{variant:"h5",children:"Sign up"}),s.jsxs(p,{color:"text.secondary",variant:"body2",children:["Already have an account?"," ",s.jsx(f,{component:u,href:g.auth.signIn,variant:"subtitle2",children:"Sign in"})]})]}),s.jsxs(i,{spacing:3,children:[s.jsx(i,{spacing:2,children:H.map(r=>s.jsxs(b,{color:"secondary",disabled:x,endIcon:s.jsx(j,{alt:"",component:"img",height:24,src:r.logo,width:24}),onClick:()=>{N(r.id).catch(()=>{})},variant:"outlined",children:["Continue with ",r.name]},r.id))}),s.jsx(B,{children:"or"}),s.jsx("form",{onSubmit:y(C),children:s.jsxs(i,{spacing:2,children:[s.jsx(o,{control:t,name:"firstName",render:({field:r})=>s.jsxs(d,{error:!!e.firstName,children:[s.jsx(m,{children:"First name"}),s.jsx(h,{...r}),e.firstName?s.jsx(l,{children:e.firstName.message}):null]})}),s.jsx(o,{control:t,name:"lastName",render:({field:r})=>s.jsxs(d,{error:!!e.lastName,children:[s.jsx(m,{children:"Last name"}),s.jsx(h,{...r}),e.lastName?s.jsx(l,{children:e.lastName.message}):null]})}),s.jsx(o,{control:t,name:"email",render:({field:r})=>s.jsxs(d,{error:!!e.email,children:[s.jsx(m,{children:"Email address"}),s.jsx(h,{...r,type:"email"}),e.email?s.jsx(l,{children:e.email.message}):null]})}),s.jsx(o,{control:t,name:"password",render:({field:r})=>s.jsxs(d,{error:!!e.password,children:[s.jsx(m,{children:"Password"}),s.jsx(h,{...r,type:"password"}),e.password?s.jsx(l,{children:e.password.message}):null]})}),s.jsx(o,{control:t,name:"terms",render:({field:r})=>s.jsxs("div",{children:[s.jsx(D,{control:s.jsx(E,{...r}),label:s.jsxs(c.Fragment,{children:["I have read the ",s.jsx(f,{children:"terms and conditions"})]})}),e.terms?s.jsx(l,{error:!0,children:e.terms.message}):null]})}),e.root?s.jsx(v,{color:"error",children:e.root.message}):null,s.jsx(b,{disabled:x,type:"submit",variant:"contained",children:"Create account"})]})})]}),s.jsx(v,{color:"warning",children:"Created users are not persisted"})]})}const U={title:`Sign up | Auth | ${P.site.name}`};function K(){return s.jsxs(c.Fragment,{children:[s.jsx(I,{children:s.jsx("title",{children:U.title})}),s.jsx(G,{children:s.jsx(q,{children:s.jsx(z,{})})})]})}export{K as Page};
